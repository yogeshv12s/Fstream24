<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Netflix Style Player</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<style>
  html, body {
    margin:0; height:100%; background:#000;
    font-family: Arial, sans-serif;
    overflow:hidden;
  }
  #player-container {
    position: relative;
    width:100%; height:100%;
    background:black;
  }
  #stream-media { 
    width:100%; height:100%;
    object-fit:cover;
    background:black;
    display:block;
  }

  /* Logo top-left */
  .player-logo {
    position: absolute;
    top: 20px; left: 20px;
    height: 40px;
    z-index: 1000;
  }

  /* Big Play Button */
  #big-play {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    font-size: 80px;
    color: white;
    background: rgba(0,0,0,0.6);
    border-radius: 50%;
    padding: 28px;
    cursor: pointer;
    z-index: 1500;
    transition: 0.3s;
  }
  #big-play:hover { background: rgba(229,9,20,0.9); }

  /* Control Bar */
  #control-bar {
    position: absolute;
    bottom: 0; left: 0; right: 0;
    background: linear-gradient(transparent, rgba(0,0,0,0.8));
    display: flex;
    align-items: center;
    padding: 15px 20px;
    z-index: 1000;
    opacity:0;
    transition: opacity 0.4s;
  }
  #player-container:hover #control-bar { opacity:1; }

  #control-bar i {
    color: white;
    font-size: 22px;
    cursor: pointer;
    margin-right: 20px;
    transition: 0.2s;
  }
  #control-bar i:hover { color: #e50914; }

  #progress-container {
    flex: 1;
    height: 5px;
    background: rgba(255,255,255,0.3);
    border-radius: 3px;
    cursor: pointer;
    margin: 0 15px;
    position: relative;
  }
  #progress {
    height: 5px;
    background: #e50914;
    width: 0%;
    border-radius: 3px;
  }

  #time-display {
    color:white;
    font-size:14px;
    white-space: nowrap;
  }

  @media(max-width:768px){
    .player-logo { height: 28px; }
    #big-play { font-size:55px; padding:20px; }
    #control-bar i { font-size:18px; margin-right:12px; }
  }
</style>
</head>
<body>

<div id="player-container">
  <!-- Replace logo with yours -->
  <img src="https://chadstreamz.sbs/assets/images/log2.png" alt="Logo" class="player-logo">

  <video id="stream-media" preload="auto"></video>

  <!-- Big Play -->
  <div id="big-play"><i class="fas fa-play"></i></div>

  <!-- Controls -->
  <div id="control-bar">
    <i id="play-btn" class="fas fa-play"></i>
    <div id="progress-container"><div id="progress"></div></div>
    <span id="time-display">00:00 / 00:00</span>
    <i id="volume-btn" class="fas fa-volume-up"></i>
    <i id="fullscreen-btn" class="fas fa-expand"></i>
  </div>
</div>

<script>
var mediaLink = "{{ mediaLink }}"; // replace with your media link
var video = document.getElementById('stream-media');
var bigPlay = document.getElementById("big-play");
var playBtn = document.getElementById("play-btn");
var volumeBtn = document.getElementById("volume-btn");
var fullscreenBtn = document.getElementById("fullscreen-btn");
var progress = document.getElementById("progress");
var progressContainer = document.getElementById("progress-container");
var timeDisplay = document.getElementById("time-display");

if(mediaLink){ video.src = mediaLink; }
else { document.body.innerHTML="<h2 style='color:red;text-align:center;margin-top:20px;'>Error: Media URL not provided</h2>"; }

// Big play button
bigPlay.onclick = ()=>{ video.play(); bigPlay.style.display="none"; playBtn.className="fas fa-pause"; };

// Toggle play/pause
playBtn.onclick = ()=>{
  if(video.paused){ video.play(); playBtn.className="fas fa-pause"; }
  else { video.pause(); playBtn.className="fas fa-play"; }
};
video.addEventListener("play", ()=>{ bigPlay.style.display="none"; playBtn.className="fas fa-pause"; });
video.addEventListener("pause", ()=>{ playBtn.className="fas fa-play"; });

// Volume toggle
volumeBtn.onclick = ()=>{
  video.muted = !video.muted;
  volumeBtn.className = video.muted ? "fas fa-volume-mute" : "fas fa-volume-up";
};

// Fullscreen toggle
fullscreenBtn.onclick = ()=>{
  if(!document.fullscreenElement){ video.requestFullscreen(); fullscreenBtn.className="fas fa-compress"; }
  else { document.exitFullscreen(); fullscreenBtn.className="fas fa-expand"; }
};

// Progress bar
video.addEventListener("timeupdate", ()=>{
  if(video.duration){
    progress.style.width = (video.currentTime / video.duration) * 100 + '%';
    let m = (t)=>String(Math.floor(t/60)).padStart(2,'0');
    let s = (t)=>String(Math.floor(t%60)).padStart(2,'0');
    timeDisplay.textContent = m(video.currentTime)+":"+s(video.currentTime)+" / "+m(video.duration)+":"+s(video.duration);
  }
});
progressContainer.onclick = (e)=>{
  let rect = progressContainer.getBoundingClientRect();
  let pos = (e.clientX - rect.left) / rect.width;
  video.currentTime = pos * video.duration;
};
</script>
</body>
</html>
