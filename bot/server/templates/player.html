<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fullscreen HTML Video Player</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  body { background:#000; font-family: Arial, sans-serif; color:#fff; }

  /* Player Container */
  .player-container { display:flex; flex-direction:column; min-height:100vh; background:black; }

  /* Video Section */
  .video-section { position:relative; width:100%; flex:1; display:flex; justify-content:center; align-items:center; background:black; }
  video { width:100%; height:100%; object-fit:contain; background:black; }

  /* Preloader */
  #preloader { position:fixed; inset:0; background:#000; display:flex; justify-content:center; align-items:center; flex-direction:column; z-index:9999; transition:opacity 0.5s ease; }
  #spinner { width:50px; height:50px; border:5px solid #fff; border-top:5px solid #ff0000; border-radius:50%; animation:spin 1s linear infinite; margin-bottom:15px; }
  @keyframes spin { 0%{ transform:rotate(0deg);} 100%{ transform:rotate(360deg); } }
  #preloader.fade-out{ opacity:0; pointer-events:none; }

  /* Watermark */
  .watermark { position:absolute; top:10px; right:10px; width:80px; opacity:0.7; pointer-events:none; z-index:10; }

  /* Big Play Button */
  #big-play { position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); font-size:70px; background:rgba(0,0,0,0.5); padding:20px; border-radius:50%; cursor:pointer; z-index:10; transition:0.3s; }
  #big-play:hover{ background:rgba(255,255,255,0.7); color:black; }

  /* Controls */
  .controls { position:absolute; bottom:0; left:0; right:0; background:rgba(0,0,0,0.6); display:flex; align-items:center; padding:10px 15px; z-index:10; flex-wrap:wrap; }
  .control-btn{ font-size:20px; cursor:pointer; margin-right:10px; transition:0.3s; }
  .control-btn:hover{ color:#ff0000; }

  .progress-container { flex:1; height:5px; background:rgba(255,255,255,0.3); border-radius:2px; cursor:pointer; position:relative; margin:0 10px; }
  .progress { width:0%; height:100%; background:#ff0000; border-radius:2px; }

  .time-display{ font-size:14px; white-space:nowrap; }

  /* Download Button */
  .download-btn{ background:#ff0000; color:#fff; text-decoration:none; padding:8px 15px; border-radius:5px; font-weight:bold; transition:0.3s; }
  .download-btn:hover{ background:#e60000; }

  /* Comments Section */
  .comments-section{ background:#111; padding:20px; max-height:250px; overflow-y:auto; }
  .comments-section h3{ margin-bottom:10px; }
  .comment{ border-bottom:1px solid #222; padding:10px 0; }
  .comment:last-child{ border-bottom:none; }

  @media(max-width:768px){
    #big-play{ font-size:50px; padding:15px; }
    .control-btn{ font-size:16px; }
    .download-btn{ padding:6px 12px; font-size:14px; }
  }
</style>
</head>
<body>

<div id="preloader">
  <div id="spinner"></div>
  <img src="https://chadstreamz.sbs/assets/images/log2.png" alt="Logo" width="120">
</div>

<div class="player-container">
  <div class="video-section">
    <video id="video-player" preload="metadata"></video>
    <img src="https://chadstreamz.sbs/assets/images/log2.png" class="watermark" alt="Watermark">

    <div id="big-play"><i class="fas fa-play"></i></div>

    <div class="controls">
      <i class="fas fa-play control-btn" id="play-btn"></i>
      <div class="progress-container" id="progress-container"><div class="progress" id="progress"></div></div>
      <span class="time-display" id="time-display">00:00 / 00:00</span>
      <i class="fas fa-volume-up control-btn" id="volume-btn"></i>
      <i class="fas fa-expand control-btn" id="fullscreen-btn"></i>
      <a href="#" class="download-btn" id="download-btn">Download</a>
    </div>
  </div>

  <div class="comments-section">
    <h3>Comments</h3>
    <div class="comment">User1: Awesome video!</div>
    <div class="comment">User2: Loving the interface!</div>
    <div class="comment">User3: Very smooth playback.</div>
  </div>
</div>

<script>
const mediaLink = "{{ mediaLink }}"; // Replace with your media URL
const video = document.getElementById('video-player');
const playBtn = document.getElementById('play-btn');
const bigPlay = document.getElementById('big-play');
const progress = document.getElementById('progress');
const progressContainer = document.getElementById('progress-container');
const timeDisplay = document.getElementById('time-display');
const volumeBtn = document.getElementById('volume-btn');
const fullscreenBtn = document.getElementById('fullscreen-btn');
const downloadBtn = document.getElementById('download-btn');
const preloader = document.getElementById('preloader');

if(!mediaLink){
  alert("Error: Media URL not provided");
} else {
  video.src = mediaLink;
  downloadBtn.href = mediaLink;
  downloadBtn.download='';

  // Preloader fade
  video.addEventListener('canplaythrough', ()=>{ preloader.classList.add('fade-out'); });

  // Play/Pause
  function togglePlay(){
    if(video.paused){ video.play(); playBtn.className='fas fa-pause control-btn'; bigPlay.style.display='none'; }
    else { video.pause(); playBtn.className='fas fa-play control-btn'; bigPlay.style.display='block'; }
  }
  playBtn.onclick = togglePlay;
  bigPlay.onclick = togglePlay;
  video.addEventListener('play', ()=>{ playBtn.className='fas fa-pause control-btn'; bigPlay.style.display='none'; });
  video.addEventListener('pause', ()=>{ playBtn.className='fas fa-play control-btn'; bigPlay.style.display='block'; });

  // Progress
  video.addEventListener('timeupdate', ()=>{
    const percent = (video.currentTime / video.duration)*100;
    progress.style.width = percent+'%';
    const format = t=>{ let m=Math.floor(t/60).toString().padStart(2,'0'); let s=Math.floor(t%60).toString().padStart(2,'0'); return m+':'+s; };
    timeDisplay.textContent = format(video.currentTime)+' / '+format(video.duration);
  });

  let isDragging=false;
  function setProgress(e){
    const rect = progressContainer.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const pos = Math.min(Math.max(0, x/rect.width), 1);
    video.currentTime = pos*video.duration;
  }
  progressContainer.addEventListener('mousedown', e=>{ isDragging=true; setProgress(e); video.pause(); });
  progressContainer.addEventListener('mousemove', e=>{ if(isDragging) setProgress(e); });
  progressContainer.addEventListener('mouseup', e=>{ if(isDragging){ setProgress(e); isDragging=false; video.play(); } });

  // Volume
  volumeBtn.onclick = ()=>{ video.muted=!video.muted; volumeBtn.className=video.muted?'fas fa-volume-mute control-btn':'fas fa-volume-up control-btn'; };

  // Fullscreen
  fullscreenBtn.onclick = ()=>{
    if(!document.fullscreenElement) video.requestFullscreen();
    else document.exitFullscreen();
  };

  // Optional: handle landscape rotation for mobile
  screen.orientation?.lock('landscape').catch(()=>{});
}
</script>
</body>
</html>
